<%
  chosen_class = "chzn-select-#{attribute_id}"
  new_page_title = Typus::I18n.t("Add New %{resource}", :resource => related.model_name.human.titleize)
%>

<div id="modal-from-dom-<%= attribute_id %>" class="modal hide fade">
  <div class="modal-header">
    <a class="close" data-dismiss="modal">&times;</a>
    <h3><%= new_page_title %></h3>
  </div>
  <div class="modal-body"></div>
  <div class="modal-footer">
    <a href="#" class="btn primary">Save changes</a>
    <a href="#" class="btn" data-dismiss="modal">Close</a>
  </div>
</div>

<div class="control-group" id="<%= attribute_id %>_li">
  <%= form.label attribute, label_text, { :class => "control-label" } %>
  <div class="controls">
    <% if values.any? %>
      <%= form.select related_fk, values, options, html_options.merge(:class => chosen_class, :style => "width: 350px;") %>
    <% else %>
      <%= Typus::I18n.t("No entries found.") %>
    <% end %>
  </div>
</div>

<script type="text/javascript">
  // $(document).ready(function () { $(".<%= chosen_class %>").chosen(); });
</script>
